*taal.txt* LLM assistance for improving grammar and spelling

MIT License Copyright (c) 2025 Benno Richters

------------------------------------------------------------------------------
                                                                          *Taal*

# Features ~

- Suggests grammar and spelling improvements. This feature is language 
  agnostic, as long as the chosen LLM is capable of that.

- View a word-by-word diff of the original text and the suggested
  improvements.

- Apply improvements all at once, or on a one-to-one basis.

- Recognizes the language the text is written in and sets the correct
  `spelllang` option.
  
- Interact with the LLM using the selected text.

- Supports three LLMs: Claude, Ollama, OpenAI-responses

# Dependencies ~

- nvim-lua/plenary.nvim
  Pleanary's curl is used to contact LLM's

# Installation ~

This module needs to be set up with `require('taal').setup({})`. The setup arg
`{}` can be with a custom config table, to overwrite the defaults.
Calling the setup function is mandatory.

The config supports these fields:
- log_level: string - ["trace", "info", "debug", "error"] - default: "error"
- timeout: number - timeout for LLM requests in ms - default: 6000
  (six-thousand, i.e., six seconds)
- adapters: table:
  {
    {[LLM] = {endpoint = endpoint to be used by this LLM},
    {[LLM] = {...}},
  }
- adapter: string - default adapter for every LLM call - default: ollama
- model: string - default model for every LLM call - default: gemma3
- commands: table:
  {
    [command_name]: string - ["improve_grammar", "suggest_grammar", "set_spellang",
    "interact"] = { adapter = ["claude", "ollama", "openai_responses"], model
    = "[chosen model]"}
  }

The default config is:

`{
  log_level = "error",
  timeout = 6000,

  adapters = {
    claude = {
      endpoint = "https://api.anthropic.com/v1/messages",
    },
    ollama = {
      endpoint = "http://localhost:11434/api/chat",
    },
    openai_responses = {
      endpoint = "https://api.openai.com/v1/responses",
    },
  },

  adapter = "ollama",
  model = "gemma3",

  commands = {
    improve_grammar = {
      adapter = nil,
      model = nil,
    },
    suggest_grammar = {
      adapter = nil,
      model = nil,
    },
    set_spellang = {
      adapter = nil,
      model = nil,
    },
    interact = {
      adapter = nil,
      model = nil,
    },
  },
}`

# Commands ~


# Highlight groups ~

- 'TaalIsse' - grammar error
- 'TaalImprovement' - suggested improvement

taal.txt         *taal*

Usage
=====

:TaalCommand    *taal-command*
    Run the plugin command.

taal function
==================
taal exposes a Lua function:
    lua require("taal").do_thing()
See |taal-command| for example.

|:help| and related help-tags
=============================
See |:help| for general help navigation.

(taal)                             *taal-usage*
    Example:
        :TaalCommand arg1 arg2

vim:tw=78:ts=8:noet:ft=help:norl:
